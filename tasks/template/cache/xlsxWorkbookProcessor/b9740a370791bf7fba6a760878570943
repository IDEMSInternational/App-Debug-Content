[{"flow_type":"template","flow_subtype":"debug","flow_name":"example_items","status":"released","rows":[{"type":"title","name":"basic_example","value":"Basic Example","comments":"This example loops over a list of items defined in the corresponding data list, populating info about them"},{"type":"begin_items","value":"@data.example_items","parameter_list":"style: column","comments":"value should correspond to an array of items to iterate over. If an object will iterate over values.\n\nIt will render in a display_group, so specify column if preferable"},{"type":"text","name":"item_text_1_@item.id","value":"@item.id"},{"type":"text","name":"item_text_2_@item.id","value":"@item.name"},{"type":"text","name":"item_text_3_@item.id","value":"+@item._index+1","comments":"Index will automatically be populated based on list order. \n\nNote - number 0 does not seem to display (bug?), so incrementing by 1"},{"type":"end_items"},{"type":"title","name":"title","value":"Setting conditional variables"},{"type":"begin_items","value":"@data.example_items"},{"type":"set_field","name":"example_items_field_@item.id","value":"@item.field_value","condition":"@item.field_value > 2"},{"type":"end_items"},{"type":"text","name":"conditional_var_1","value":"This should be set as 7: @fields.example_items_field_item_1"},{"type":"text","name":"conditional_var_2","value":"This should be not set (blank): @fields.example_items_field_item_2"},{"type":"title","name":"workshop_example","value":"@global.workshop_capital Example","comments":"Populating info from @global.workshop data list:\nhttps://docs.google.com/spreadsheets/d/1PNPiy9SiVMcwWTXGn2of5cvBYfCAPyyjtooczyTBKk0/edit#gid=559635134"},{"type":"begin_items","value":"@data.workshop","parameter_list":"style: column"},{"type":"text","name":"item_id_@item.id","value":"@item.id"},{"type":"text","name":"item_number_@item.id","value":"@item.number"},{"type":"end_items"}],"_xlsxPath":"example_sheets/example_items.xlsx"},{"flow_type":"data_list","flow_subtype":"debug","flow_name":"example_items_data_list","status":"released","data_list_name":"example_items","rows":[{"id":"item_1","name":"first","field_value":7,"unlock_fieldname":"example_unlocked_@row.id","unlock_week":1,"unlocked":"@fields.example_unlocked_@row.id"},{"id":"item_2","name":"second","field_value":1,"unlock_fieldname":"example_unlocked_@row.id","unlock_week":2,"unlocked":"@fields.example_unlocked_@row.id"},{"id":"item_3","name":"third","field_value":3,"unlock_fieldname":"example_unlocked_@row.id","unlock_week":3,"unlocked":"@fields.example_unlocked_@row.id"},{"id":"item_4","name":"fourth","field_value":2,"unlock_fieldname":"example_unlocked_@row.id","unlock_week":4,"unlocked":"@fields.example_unlocked_@row.id"},{"id":"item_5","name":"fifth","field_value":8,"unlock_fieldname":"example_unlocked_@row.id","unlock_week":5,"unlocked":"@fields.example_unlocked_@row.id"}],"_xlsxPath":"example_sheets/example_items.xlsx"},{"flow_type":"template","flow_subtype":"debug","flow_name":"example_items_unlock","status":"released","rows":[{"type":"title","name":"workshop_example","value":"Example Items Unlock"},{"type":"set_variable","name":"current_week","value":"@calc(window.date_fns.differenceInWeeks(new Date(), new Date(\"2021-08-01\"))+1)","comments":"Variables could be used directly in calculations, but rewriting here just for reference\n\nNOTE - for notes on available calc methods see example_calc \nhttps://docs.google.com/spreadsheets/d/15TccctjzepSPPv9xrLp46fhYldNN0wrho1zA5voTYcg/edit#gid=1595229908"},{"type":"text","name":"text_current_week","value":"@local.current_week"},{"type":"begin_items","value":"@data.example_items","comments":"Now display in a regular way, so add display_group if wanting in a row"},{"type":"set_field","name":"@item.unlock_fieldname","value":"@calc(@item.unlock_week > @local.current_week)","comments":"Only process if not already unlocked"},{"type":"begin_display_group","name":"group_@item.id"},{"type":"text","name":"text_group_item_@item.id","value":"group item: @item.id","comments":"Fixed items within nested display groups - 2021-08-13"},{"type":"text","name":"text_workshop_unlock_week_@item.id","value":"Unlock week: @item.unlock_week"},{"type":"text","name":"text_workshop_unlocked_@item.id","value":"Unlocked: @fields.@item.unlock_fieldname","comments":"Doesn't work:\n@fields.example_unlocked_@item.id\n\nSo added variable to data list instead"},{"type":"end_display_group"},{"type":"end_items"}],"_xlsxPath":"example_sheets/example_items.xlsx"},{"flow_type":"data_list","flow_subtype":"debug","flow_name":"example_items_nav_data_list","status":"released","data_list_name":"example_items_nav","rows":[{"id":"id_1","template":"example_text_button"},{"id":"id_2","template":"example_text_image"},{"id":"id_3","template":"example_text"},{"id":"id_concat","template":"example_text_button; example_text_image; example_text"}],"_xlsxPath":"example_sheets/example_items.xlsx"},{"flow_type":"template","flow_subtype":"debug","flow_name":"example_items_nav","status":"released","rows":[{"type":"title","name":"title_1","value":"Using items to create a nav group template list"},{"type":"begin_items","value":"@data.example_items_nav","parameter_list":"style: column"},{"name":"this_entry","value":"@item.template"},{"name":"my_list","value":"@local.my_list; @local.this_entry","condition":"@local.my_list"},{"name":"my_list","value":"@local.this_entry","condition":"!@local.my_list"},{"type":"text","name":"print_list","value":"@local.my_list"},{"type":"end_items"},{"type":"nav_group","name":"nav_group_1","value":"@local.my_list"},{"type":"title","name":"title_2","value":"Desired result"},{"name":"template_list_2","value":"example_text_button; example_text_image; example_text"},{"type":"text","name":"example_2","value":"@local.template_list_2"},{"type":"nav_group","name":"nav_group_2","value":"@local.template_list_2"},{"type":"title","name":"title_3","value":"Result when using CONCATENATE function"},{"name":"template_list_3","value":"@data.example_items_nav.id_concat.template"},{"type":"text","name":"example_3","value":"@local.template_list_3"},{"type":"nav_group","name":"nav_group_3","value":"@local.template_list_3"},{"type":"title","name":"title_4","value":"Result when passing in a whole data list"},{"type":"nav_group","name":"nav_group_4","value":"@data.example_items_nav"},{"type":"title","name":"title_5","value":"Result when passing in a whole data list as a \"_list\" local variable"},{"name":"template_list_5","value":"@data.example_items_nav"},{"type":"nav_group","name":"nav_group_5","value":"@local.template_list_5"}],"_xlsxPath":"example_sheets/example_items.xlsx"},{"flow_type":"data_list","flow_subtype":"debug","flow_name":"example_items_radio_data_list","status":"released","data_list_name":"example_items_radio","rows":[{"id":"item_1","text::eng":"first","name":"first"},{"id":"item_2","text::eng":"second","name":"second"},{"id":"item_3","text::eng":"third","name":"third"}],"_xlsxPath":"example_sheets/example_items.xlsx"},{"flow_type":"template","flow_subtype":"debug","flow_name":"example_items_radio","status":"released","rows":[{"type":"title","name":"title_1","value":"Using items to create an answer list"},{"type":"begin_items","value":"@data.example_items_radio","parameter_list":"style: column"},{"name":"this_entry","value":"name: @item.id | text: @item.text"},{"name":"my_list","value":"@local.my_list; @local.this_entry","condition":"@local.my_list"},{"name":"my_list","value":"@local.this_entry","condition":"!@local.my_list"},{"type":"text","name":"print_list","value":"@local.my_list"},{"type":"end_items"},{"type":"radio_group","name":"radio_group_1","parameter_list":"answer_list: @local.my_list"},{"type":"title","name":"title_2","value":"Desired result"},{"name":"answer_list","value":"name: item_1 | text: first; name: item_2 | text: second; name: item_3 | text: third"},{"type":"text","name":"example","value":"@local.answer_list"},{"type":"radio_group","name":"radio_group_2","parameter_list":"answer_list: @local.answer_list"},{"type":"title","name":"title_3","value":"Alt - use datalist direct"},{"type":"radio_group","name":"radio_group_3","parameter_list":"answer_list: @data.example_items_radio"},{"type":"title","name":"title_4","value":"Use datalist through local variable"},{"name":"answer_list_2","value":"@data.example_items_radio"},{"type":"radio_group","name":"radio_group_4","parameter_list":"answer_list: @local.answer_list_2"}],"_xlsxPath":"example_sheets/example_items.xlsx"},{"flow_type":"template","flow_subtype":"debug","flow_name":"example_items_pipe","status":"released","rows":[{"type":"title","name":"title_unlocked","value":"Unlocked (limit 1)"},{"type":"begin_items","value":"@data.example_items","parameter_list":"filter: @item.unlocked;\nsort: field_value;\nreverse;\nlimit: 1;","comments":"Parameter list can be used to sort, filter, limit and reverse items"},{"type":"text","name":"item_text_1_@item.id","value":"id: @item.id"},{"type":"text","name":"item_text_2_@item.id","value":"name: @item.name"},{"type":"text","name":"item_text_3_@item.id","value":"+@item._index+1"},{"type":"text","name":"item_text_4_@item.id","value":"value: @item.field_value"},{"type":"button","name":"item_toggle_@item.id","value":"Lock","action_list":"click | toggle_field:@item.unlock_fieldname;\nclick | emit: force_reload","comments":"Support added for new toggle_field which will force field value to boolean and toggle"},{"type":"end_items"},{"type":"title","name":"title_locked","value":"Locked (all)"},{"type":"begin_items","value":"@data.example_items","parameter_list":"filter: !@item.unlocked;\nsort: field_value;\nreverse;"},{"type":"text","name":"item_text_1_@item.id","value":"id: @item.id"},{"type":"text","name":"item_text_2_@item.id","value":"name: @item.name"},{"type":"text","name":"item_text_3_@item.id","value":"+@item._index+1"},{"type":"text","name":"value: item_text_4_@item.id","value":"value: @item.field_value"},{"type":"button","name":"item_toggle_@item.id","value":"Unlock","action_list":"click | toggle_field:@item.unlock_fieldname;\nclick | emit: force_reload","comments":"TODO - force_reload still doesn't process from original data lists unfortunately"},{"type":"end_items"}],"_xlsxPath":"example_sheets/example_items.xlsx"},{"flow_type":"template","flow_subtype":"debug","flow_name":"example_items_pipe_2","status":"released","rows":[{"name":"local_string","value":"first"},{"name":"local_number","value":3},{"type":"title","name":"title_1","value":"String comparison (local)"},{"type":"begin_items","value":"@data.example_items","parameter_list":"filter: @item.name == @local.local_string;","comments":"doesnt work"},{"type":"text","name":"item_text_1_@item.id","value":"id: @item.id"},{"type":"text","name":"item_text_2_@item.id","value":"name: @item.name"},{"type":"text","name":"item_text_2_@item.id","value":"unlock_week: @item.unlock_week"},{"type":"end_items"},{"type":"title","name":"title_2","value":"String comparison"},{"type":"begin_items","value":"@data.example_items","parameter_list":"filter: @item.name == \"first\";","comments":"doesnt work"},{"type":"text","name":"item_text_1_@item.id","value":"id: @item.id"},{"type":"text","name":"item_text_2_@item.id","value":"name: @item.name"},{"type":"text","name":"item_text_2_@item.id","value":"unlock_week: @item.unlock_week"},{"type":"end_items"},{"type":"title","name":"title_3","value":"Number comparison (local)"},{"type":"begin_items","value":"@data.example_items","parameter_list":"filter: @item.unlock_week < @local.local_number;","comments":"doesnt work"},{"type":"text","name":"item_text_1_@item.id","value":"id: @item.id"},{"type":"text","name":"item_text_2_@item.id","value":"name: @item.name"},{"type":"text","name":"item_text_2_@item.id","value":"unlock_week: @item.unlock_week"},{"type":"end_items"},{"type":"title","name":"title_4","value":"Number comparison"},{"type":"begin_items","value":"@data.example_items","parameter_list":"filter: @item.unlock_week < 3;","comments":"works"},{"type":"text","name":"item_text_1_@item.id","value":"id: @item.id"},{"type":"text","name":"item_text_2_@item.id","value":"name: @item.name"},{"type":"text","name":"item_text_2_@item.id","value":"unlock_week: @item.unlock_week"},{"type":"end_items"}],"_xlsxPath":"example_sheets/example_items.xlsx"},{"flow_type":"template","flow_subtype":"debug","flow_name":"example_items_generated","status":"released","rows":[{"type":"begin_items","name":"test_name","value":"@data.example_pipe_completed"},{"type":"text","name":"item_text_1_@item.id","value":"id: @item.id"},{"type":"end_items"}],"_xlsxPath":"example_sheets/example_items.xlsx"},{"flow_type":"template","flow_subtype":"debug","flow_name":"example_items_operations","status":"released","rows":[{"type":"title","name":"filter_title","value":"Filter: field_value > 2"},{"type":"begin_items","value":"@data.example_items","parameter_list":"filter: @item.field_value > 2;"},{"type":"text","name":"item_text_1_@item.id","value":"id: @item.id"},{"type":"text","name":"item_text_2_@item.field_value","value":"field_value: @item.field_value"},{"type":"end_items"},{"type":"title","name":"sort_title","value":"Sort: field_value"},{"type":"begin_items","value":"@data.example_items","parameter_list":"filter: @item.field_value > 2;\nsort: field_value;"},{"type":"text","name":"item_text_sort_id_@item.id","value":"id: @item.id"},{"type":"text","name":"item_text_sort_field_value_@item.field_value","value":"field_value: @item.field_value"},{"type":"end_items"},{"type":"title","name":"reverse_title","value":"Reverse"},{"type":"begin_items","value":"@data.example_items","parameter_list":"filter: @item.field_value > 2;\nsort: field_value;\nreverse;"},{"type":"text","name":"item_text_3_@item.id","value":"id: @item.id"},{"type":"text","name":"item_text_4_@item.field_value","value":"field_value: @item.field_value"},{"type":"end_items"},{"type":"title","name":"shuffle_title","value":"Shuffle"},{"type":"begin_items","value":"@data.example_items","parameter_list":"filter: @item.field_value > 2;\nshuffle;"},{"type":"text","name":"item_text_5_@item.id","value":"id: @item.id"},{"type":"text","name":"item_text_6_@item.field_value","value":"field_value: @item.field_value"},{"type":"end_items"},{"type":"button","name":"button_reload_1","value":"Force Reload","action_list":"click | emit: force_reload"},{"type":"title","name":"filter_title","value":"Limit: 1 (shuffled)"},{"type":"begin_items","value":"@data.example_items","parameter_list":"filter: @item.field_value > 2;\nshuffle;\nlimit: 1;"},{"type":"text","name":"item_text_7_@item.id","value":"id: @item.id"},{"type":"text","name":"item_text_8_@item.field_value","value":"field_value: @item.field_value"},{"type":"end_items"}],"_xlsxPath":"example_sheets/example_items.xlsx"}]
